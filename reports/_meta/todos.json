{
  "metadata": {
    "generated": "2025-01-24",
    "version": "1.0",
    "total_todos": 24,
    "p0_critical": 4,
    "p1_high": 8,
    "p2_medium": 12
  },
  "todos": [
    {
      "id": "001",
      "severity": "P0",
      "category": "security",
      "file": "client/src/modules/voice/services/WebRTCVoiceClient.ts",
      "line": 45,
      "summary": "Remove client-side OpenAI API calls violating ADR #001",
      "agent": "adr-enforcer",
      "suggested_fix": "Implement backend proxy endpoint /api/v1/realtime/connect and remove direct OpenAI calls",
      "estimated_effort": "4-6 hours",
      "risk_level": "high"
    },
    {
      "id": "002", 
      "severity": "P0",
      "category": "security",
      "file": "scripts/deployment/vercel-env-commands.sh",
      "line": null,
      "summary": "Remove exposed Supabase ANON key from deployment scripts",
      "agent": "security-sentinel",
      "suggested_fix": "Move secrets to secure environment variable management",
      "estimated_effort": "30 minutes",
      "risk_level": "critical"
    },
    {
      "id": "003",
      "severity": "P0", 
      "category": "build",
      "file": "multiple",
      "line": null,
      "summary": "Fix 76 TypeScript compilation errors blocking builds",
      "agent": "types-guardian",
      "suggested_fix": "Systematically resolve type errors starting with shared types",
      "estimated_effort": "2-3 hours",
      "risk_level": "high"
    },
    {
      "id": "004",
      "severity": "P0",
      "category": "runtime",
      "file": "client/src/components/orders/OrderActionsBar.tsx", 
      "line": 45,
      "summary": "Add missing KDS status handlers for pending, confirmed, cancelled",
      "agent": "types-guardian",
      "suggested_fix": "Add switch case handlers with proper status transitions",
      "estimated_effort": "1 hour",
      "risk_level": "medium"
    },
    {
      "id": "005",
      "severity": "P1",
      "category": "performance",
      "file": "client/src/routes/AppRoutes.tsx",
      "line": 15,
      "summary": "Replace static routing with LazyRoutes.tsx for code splitting",
      "agent": "frontend-optimizer", 
      "suggested_fix": "Import LazyRoutes instead of static route definitions",
      "estimated_effort": "30 minutes",
      "risk_level": "low"
    },
    {
      "id": "006",
      "severity": "P1",
      "category": "quality",
      "file": "multiple",
      "line": null,
      "summary": "Fix 783 ESLint violations (172 errors, 611 warnings)",
      "agent": "adr-enforcer",
      "suggested_fix": "Run npm run lint:fix and manually resolve remaining issues",
      "estimated_effort": "8-12 hours",
      "risk_level": "low"
    },
    {
      "id": "007",
      "severity": "P1",
      "category": "architecture",
      "file": "multiple",
      "line": null,
      "summary": "Replace 9 manual fetch() calls with useApiRequest hook",
      "agent": "dry-reclaimer",
      "suggested_fix": "Migrate each manual fetch to useApiRequest for consistent auth/context",
      "estimated_effort": "2-3 hours", 
      "risk_level": "low"
    },
    {
      "id": "008",
      "severity": "P1",
      "category": "ux",
      "file": "client/src/components/layout/Navigation.tsx",
      "line": 25,
      "summary": "Add mobile hamburger menu for responsive navigation",
      "agent": "ux-cartographer",
      "suggested_fix": "Implement collapsed mobile navigation with hamburger toggle",
      "estimated_effort": "2-3 hours",
      "risk_level": "low"
    },
    {
      "id": "009",
      "severity": "P1",
      "category": "performance",
      "file": "vite.config.ts",
      "line": 20,
      "summary": "Optimize 991KB bundle through code splitting and tree shaking",
      "agent": "frontend-optimizer",
      "suggested_fix": "Configure vendor splitting and implement lazy loading",
      "estimated_effort": "4-6 hours",
      "risk_level": "medium"
    },
    {
      "id": "010",
      "severity": "P1",
      "category": "architecture",
      "file": "client/src/services/",
      "line": null,
      "summary": "Consolidate 3 duplicate HTTP client implementations",
      "agent": "dry-reclaimer", 
      "suggested_fix": "Merge httpClient, SecureAPIClient, and useApiRequest into single approach",
      "estimated_effort": "3-4 hours",
      "risk_level": "medium"
    },
    {
      "id": "011",
      "severity": "P1",
      "category": "ux",
      "file": "client/src/pages/KitchenDisplaySimple.tsx",
      "line": 89,
      "summary": "Remove DEBUG test button visible in production",
      "agent": "ux-cartographer",
      "suggested_fix": "Remove or wrap in development-only conditional",
      "estimated_effort": "5 minutes",
      "risk_level": "low"
    },
    {
      "id": "012",
      "severity": "P1",
      "category": "accessibility",
      "file": "multiple",
      "line": null,
      "summary": "Add aria-live regions for screen reader updates",
      "agent": "ux-cartographer",
      "suggested_fix": "Implement aria-live regions for real-time order updates",
      "estimated_effort": "3-4 hours",
      "risk_level": "low"
    },
    {
      "id": "013",
      "severity": "P2",
      "category": "cleanup",
      "file": "server/src/voice/websocket-server.ts",
      "line": null,
      "summary": "Remove ~1,500 lines of unused WebSocket voice infrastructure", 
      "agent": "voice-surgeon",
      "suggested_fix": "Delete unused WebSocket voice files after verification",
      "estimated_effort": "1 hour",
      "risk_level": "low"
    },
    {
      "id": "014",
      "severity": "P2",
      "category": "performance",
      "file": "client/src/components/orders/VirtualizedOrderList.tsx",
      "line": 10,
      "summary": "Implement virtualization for large order lists",
      "agent": "frontend-optimizer",
      "suggested_fix": "Replace standard lists with existing VirtualizedOrderList component",
      "estimated_effort": "2-3 hours",
      "risk_level": "low"
    },
    {
      "id": "015",
      "severity": "P2",
      "category": "types",
      "file": "multiple",
      "line": null,
      "summary": "Eliminate 3 duplicate OrderStatus type definitions",
      "agent": "types-guardian",
      "suggested_fix": "Use shared/types/order.types.ts exclusively",
      "estimated_effort": "1 hour", 
      "risk_level": "low"
    },
    {
      "id": "016",
      "severity": "P2",
      "category": "types",
      "file": "multiple",
      "line": null,
      "summary": "Cleanup 15 problematic any/unknown usages",
      "agent": "types-guardian",
      "suggested_fix": "Add proper type definitions for each any/unknown usage",
      "estimated_effort": "2-3 hours",
      "risk_level": "low"
    },
    {
      "id": "017",
      "severity": "P2",
      "category": "ux",
      "file": "multiple",
      "line": null,
      "summary": "Fix touch targets below 44x44px minimum for mobile",
      "agent": "ux-cartographer",
      "suggested_fix": "Increase button and interactive element sizes for mobile",
      "estimated_effort": "2-3 hours",
      "risk_level": "low"
    },
    {
      "id": "018",
      "severity": "P2",
      "category": "cleanup",
      "file": "multiple",
      "line": null,
      "summary": "Remove 101 console.log statements from production code",
      "agent": "frontend-optimizer",
      "suggested_fix": "Add ESLint rule and clean existing console statements",
      "estimated_effort": "1 hour",
      "risk_level": "low"
    },
    {
      "id": "019",
      "severity": "P2", 
      "category": "architecture",
      "file": "client/src/services/orders/",
      "line": null,
      "summary": "Merge OrderService and OrderHistoryService with 60% overlap",
      "agent": "dry-reclaimer",
      "suggested_fix": "Consolidate overlapping functionality into unified service",
      "estimated_effort": "2-3 hours",
      "risk_level": "medium"
    },
    {
      "id": "020",
      "severity": "P2",
      "category": "components",
      "file": "multiple",
      "line": null,
      "summary": "Standardize 4 different ErrorBoundary implementations",
      "agent": "dry-reclaimer",
      "suggested_fix": "Use PaymentErrorBoundary pattern for all error boundaries",
      "estimated_effort": "2-3 hours",
      "risk_level": "low"
    },
    {
      "id": "021",
      "severity": "P2",
      "category": "ux",
      "file": "multiple",
      "line": null,
      "summary": "Replace inline loading states with shared LoadingSpinner",
      "agent": "dry-reclaimer",
      "suggested_fix": "Import and use LoadingSpinner component in 30+ files",
      "estimated_effort": "1-2 hours",
      "risk_level": "low"
    },
    {
      "id": "022",
      "severity": "P2",
      "category": "routing",
      "file": "multiple",
      "line": null,
      "summary": "Replace window.location.href with React Router navigation",
      "agent": "ux-cartographer",
      "suggested_fix": "Use useNavigate hook for programmatic navigation",
      "estimated_effort": "1 hour",
      "risk_level": "low"
    },
    {
      "id": "023",
      "severity": "P2",
      "category": "performance",
      "file": "multiple",
      "line": null,
      "summary": "Add React.memo to expensive components without memoization",
      "agent": "frontend-optimizer",
      "suggested_fix": "Wrap heavy computation components in React.memo",
      "estimated_effort": "2-3 hours",
      "risk_level": "low"
    },
    {
      "id": "024",
      "severity": "P2",
      "category": "security",
      "file": "multiple",
      "line": null,
      "summary": "Audit hardcoded demo restaurant UUID usage in 63+ files",
      "agent": "security-sentinel",
      "suggested_fix": "Verify demo UUID is properly scoped to development/testing only",
      "estimated_effort": "1-2 hours",
      "risk_level": "low"
    }
  ],
  "summary": {
    "p0_todos": [
      {"id": "001", "title": "Remove client-side OpenAI API calls"},
      {"id": "002", "title": "Remove exposed Supabase secrets"},
      {"id": "003", "title": "Fix 76 TypeScript compilation errors"},  
      {"id": "004", "title": "Add missing KDS status handlers"}
    ],
    "p1_todos": [
      {"id": "005", "title": "Implement code splitting with LazyRoutes"},
      {"id": "006", "title": "Fix 783 ESLint violations"},
      {"id": "007", "title": "Replace manual fetch() with useApiRequest"},
      {"id": "008", "title": "Add mobile navigation menu"},
      {"id": "009", "title": "Optimize 991KB bundle size"},
      {"id": "010", "title": "Consolidate HTTP client implementations"},
      {"id": "011", "title": "Remove DEBUG button from production"},
      {"id": "012", "title": "Add accessibility improvements"}
    ],
    "total_estimated_effort": "55-80 hours",
    "quick_wins": [
      {"id": "005", "effort": "30 minutes", "impact": "60% bundle reduction"},
      {"id": "011", "effort": "5 minutes", "impact": "Clean production UI"},
      {"id": "002", "effort": "30 minutes", "impact": "Secure secrets"}
    ]
  }
}