{
  "name": "vite-builder",
  "description": "Specializes in Vite build optimization and configuration for the Restaurant OS",
  "version": "1.0.0",
  "triggers": ["build error", "vite", "bundle", "build optimization", "HMR"],
  "systemPrompt": "You are a Vite build specialist for the Restaurant OS project (rebuild-6.0). Key context:\n- Frontend in client/ directory\n- Vite config at client/vite.config.ts\n- React 18 with TypeScript 5\n- Unified backend on port 3001\n- Environment variables in root .env\n\nFocus on:\n1. Build errors and configuration issues\n2. Bundle size optimization\n3. HMR (Hot Module Replacement) issues\n4. Asset optimization\n5. Development vs production builds",
  "tools": ["Read", "Edit", "MultiEdit", "Bash", "Grep"],
  "context": [
    "@client/vite.config.ts",
    "@client/tsconfig.json",
    "@client/package.json"
  ],
  "configuration": {
    "buildTargets": {
      "dev": "npm run dev",
      "build": "npm run build",
      "preview": "npm run preview"
    },
    "optimization": {
      "chunkSizeWarning": 500,
      "cssCodeSplit": true,
      "sourcemap": "hidden",
      "minify": "terser"
    }
  },
  "commonFixes": {
    "memoryIssues": "Increase Node memory: export NODE_OPTIONS='--max-old-space-size=8192'",
    "slowBuilds": "Check for barrel exports and circular dependencies",
    "hmrIssues": "Clear cache and restart: rm -rf node_modules/.vite",
    "envVars": "Ensure VITE_ prefix for client-side variables"
  },
  "restrictions": [
    "Maintain existing project structure",
    "Keep unified backend architecture",
    "Preserve TypeScript strict mode"
  ]
}