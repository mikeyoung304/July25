ID,Title,Priority,Category,Component,Effort (Days),Impact,Status,Labels,File Path,Line Number,Description,Verified Date,Resolution Notes
1,Authentication middleware blocking valid order creation requests,P0 - Critical,Bug,Authentication,3-5,High,Closed,"critical,bug,authentication,backend",/server/tests/routes/orders.auth.test.ts,"162-180, 184-202, 206-228",Multiple auth tests failing with 403 instead of 201 when creating orders,2025-12-01,Tests now expect 201 using optionalAuth middleware
2,Security - Enforce restaurant_id requirement in authentication tokens,P0 - Critical,Security,Multi-tenant,3-5,Critical,Closed,"critical,security,multi-tenant,backend",/server/tests/security/rbac.proof.test.ts,265-291,Tokens without restaurant_id accepted - multi-tenant security risk,2025-12-01,STRICT_AUTH validates at auth.ts:79-87 - test migrated to rbac.proof.test.ts
3,Remove temporary auto-fill debug data from checkout pages,P0 - Critical,Cleanup,Frontend,0.5,High,Closed,"critical,cleanup,production-ready,frontend",/client/src/pages/CheckoutPage.tsx,30-34,Demo data auto-filled - could cause production issues,2025-12-01,CheckoutPage uses empty form values - no hardcoded data
4,STRICT_AUTH flag not enforcing restaurant_id token requirement,P0 - Critical,Security,Authentication,2-3,High,Closed,"critical,security,authentication,backend",/server/tests/security/rbac.proof.test.ts,265-291,STRICT_AUTH not working as designed,2025-12-01,STRICT_AUTH enforcement implemented and tested
5,Implement real-time table status updates via Supabase channels,P2 - Medium,Feature,Real-time,3-5,Medium,Partial,"enhancement,real-time,backend,websocket,phase-3",/server/src/services/table.service.ts,104-109,Phase 3 - Uses WebSocket broadcasting not Supabase native channels,2025-12-02,Hybrid approach: client has Supabase channels but server still uses WebSocket
6,Implement kitchen display notifications for confirmed orders,P1 - High,Feature,Orders,2-3,High,Closed,"enhancement,orders,notifications,backend",/server/src/services/orderStateMachine.ts,243-244,KDS notifications not implemented in state machine hook,2025-12-01,Hook registered with kitchen ticket formatting and WebSocket integration
7,Implement customer notifications for ready orders,P1 - High,Feature,Orders,2-3,High,Closed,"enhancement,orders,notifications,customer-experience",/server/src/services/orderStateMachine.ts,246-248,Customer notifications not implemented in state machine hook,2025-12-01,SMS (Twilio) and Email (SendGrid) hooks implemented
8,Implement automated refund processing for cancelled orders,P1 - High,Feature,Orders,2-3,High,Closed,"enhancement,orders,payments,backend",/server/src/services/orderStateMachine.ts,251-253,Refund processing not implemented in state machine hook,2025-12-01,Stripe refunds with idempotency key implemented
9,Implement cache clearing when switching between restaurants,P1 - High,Feature,Multi-tenant,3-5,High,Closed,"enhancement,multi-tenant,performance,frontend",/client/src/services/http/httpClient.ts,21-31,Cache not cleared when switching restaurants,2025-12-02,Auto-invoked in setCurrentRestaurantId() - clearAllCachesForRestaurantSwitch implemented
10,Forward metrics to DataDog/New Relic monitoring service,P1 - High,Feature,Observability,3-5,High,Closed,"enhancement,observability,production-ready,backend",/server/src/routes/metrics.ts,61-166,Metrics collected but not forwarded to monitoring,2025-12-02,Full DataDog and New Relic integration implemented with fire-and-forget pattern
11,Add health checks for database Redis and AI services,P1 - High,Feature,Observability,2-3,High,Partial,"enhancement,observability,devops,backend",/server/src/routes/metrics.ts,56-59,Health checks only cover server not dependencies,2025-12-01,Database health check implemented - Redis and AI checks still missing
12,Remove deprecated kiosk_demo role and backward compatibility code,P1 - High,Cleanup,Authentication,2-3,Medium,Closed,"cleanup,deprecated,security,backend",/server/src/middleware/auth.ts,"71-77",kiosk_demo deprecated but compatibility code remains,2025-12-01,Role actively rejected with clear error message
13,Create /api/v1/analytics/performance server endpoint,P2 - Medium,Feature,Analytics,3-5,Medium,Closed,"enhancement,analytics,backend",/server/src/routes/metrics.ts,360,Client sends metrics but endpoint doesn't exist,2025-12-02,Endpoint alias implemented - /analytics/performance routes to shared handleMetrics handler
14,Refactor station assignment from keyword matching to menu metadata,P2 - Medium,Refactor,Kitchen,2-3,Medium,Open,"refactor,technical-debt,kitchen",/client/src/components/kitchen/StationStatusBar.tsx,85-94,Fragile keyword matching should use menu metadata,,Still uses keyword matching as fallback
15,Implement cart item removal in MenuItemCard,P2 - Medium,Feature,Cart,1-2,Medium,Closed,"enhancement,cart,frontend",/client/src/modules/order-system/components/MenuItemCard.tsx,82-92,Users cannot remove items from cart,2025-12-02,removeFromCart fully wired in MenuItemCard quantity controls
16,Implement checkout navigation in DriveThruPage,P2 - Medium,Feature,Drive-thru,1,Medium,Closed,"enhancement,drive-thru,frontend",/client/src/pages/DriveThruPage.tsx,71,Drive-thru flow incomplete - no checkout navigation,2025-12-01,Uses window.location.href for navigation
17,Add rate limit reset mechanism between security tests,P2 - Medium,Test,Security,1-2,Low,Closed,"test,security,backend",/server/src/routes/__tests__/security.test.ts,38-43,Rate limit state persists between tests,2025-12-02,Fresh Express app instances per test auto-reset rate limiter state
18,Make restaurant ID configurable in seed-menu-mapped script,P2 - Medium,Enhancement,Developer Experience,0.5,Low,Closed,"enhancement,developer-experience,backend",/server/scripts/seed-menu-mapped.ts,17,Restaurant ID hardcoded in seed script,2025-12-02,Configurable via SEED_RESTAURANT_ID env var or CLI arg with default fallback
19,Extract server and section data from order metadata,P3 - Low,Enhancement,Orders,1-2,Low,Closed,"enhancement,orders,frontend",/client/src/hooks/useTableGrouping.ts,109-116,Order metadata not extracted for display,2025-12-02,Metadata extraction implemented with isValidString helper for serverName and section
20,Integrate MemoryMonitorInstance API in ExpoPage,P3 - Low,Enhancement,Performance,1-2,Low,Invalid,"enhancement,performance,monitoring",/client/src/pages/ExpoPage.tsx,141-143,Memory monitoring API not integrated,2025-12-02,INVALID: Referenced file ExpoPage.tsx does not exist - TODO should be removed or updated
21,Remove @ts-ignore suppressions and add proper type definitions,P3 - Low,Refactor,Code Quality,2-3,Low,Open,"refactor,typescript,code-quality",Multiple test files,Various,9 type suppressions remain (Chrome-specific APIs),2025-12-02,Reduced from 11 to 9 - remaining are legitimate for performance.memory Chrome API
22,Re-enable or remove skipped basic route tests,Test,Test,Frontend,1,Medium,By-Design,"test,e2e,frontend",/tests/e2e/basic-routes.spec.ts,"33, 48, 63",3 basic route tests conditionally skipped,2025-12-01,Conditional skips based on element availability - intentional design
23,Investigate and fix voice control E2E test,Test,Test,Voice Ordering,2-3,Medium,By-Design,"test,e2e,voice-ordering",/tests/e2e/voice-control.e2e.test.ts,47,Voice control test skipped in CI,2025-12-01,Conditional skip for CI (requires microphone) - intentional design
24,Re-enable kitchen display smoke test,Test,Test,Kitchen,1,Medium,By-Design,"test,e2e,kitchen",/tests/e2e/kds/kitchen-display.smoke.spec.ts,65,KDS smoke test conditionally skipped,2025-12-01,Conditional skip when no orders present - intentional design
25,Enable demo panel tests in CI environment,Test,Test,CI,1-2,Low,Open,"test,e2e,ci",/tests/e2e/workspace-landing.spec.ts,"113, 121, 137, 154, 180, 208, 229",7 tests skipped when VITE_DEMO_PANEL disabled,,
26,Fix AuthContext concurrent refresh test timeout,Test,Test,Authentication,1-2,Medium,Open,"test,unit,authentication",/client/src/contexts/__tests__/AuthContext.test.tsx,128-129,Test timing out after 30 seconds,,
93,Missing RLS policies on tables table,P1 - High,Security,Database,2-3,Critical,Closed,"security,database,rls,multi-tenancy",/supabase/migrations/20251202_comprehensive_rls.sql,10-35,Tables table lacks Row Level Security policies - critical for multi-tenant isolation,2025-12-02,RLS policies added in migration - SELECT/INSERT/UPDATE/DELETE + service role bypass
94,Unauthenticated metrics endpoints,P1 - High,Security,API,1-2,Critical,Closed,"security,api,authentication,dos-risk",/server/src/routes/metrics.ts,208,Metrics endpoints accept data without authentication - DoS risk,2025-12-02,authenticate middleware added to /metrics and /analytics/performance endpoints
95,Dual state management in useTableStatus,P2 - Medium,Architecture,React,1-2,High,Closed,"architecture,react,state-management,refactor",/client/src/pages/hooks/useServerView.ts,27,Dual state between useTableStatus and useServerView causes potential drift,2025-12-02,useTableStatus hook deleted - functionality inlined in useServerView (B1)
96,Type inconsistency DatabaseTable vs Table,P2 - Medium,Architecture,TypeScript,2-3,High,Open,"architecture,typescript,types,refactor",/client/src/core/supabase.ts,N/A,Two different Table types with mismatched fields and status types,2025-12-02,todos/096-open-p2-table-type-inconsistency.md
97,Race conditions polling vs real-time,P2 - Medium,Architecture,React,1-2,High,Closed,"architecture,performance,race-condition,react",/client/src/pages/hooks/useServerView.ts,147-156,Polling can overwrite real-time updates causing UI flicker,2025-12-02,Adaptive polling: 2min when subscribed vs 30s when not - reduces race condition likelihood
98,Memory leak from useEffect dependencies,P2 - Medium,Performance,React,1,High,Closed,"performance,memory-leak,react,hooks",/client/src/pages/hooks/useServerView.ts,10-15,Toast in callback deps causes recreation and interval accumulation,2025-12-02,Toast moved to toastRef - removed from deps to prevent memory leak (B2)
99,Code duplication in metrics routes,P2 - Medium,Code Quality,Backend,0.5,Medium,Closed,"code-quality,duplication,refactor,dry",/server/src/routes/metrics.ts,171-202,Nearly identical code in /metrics and /analytics/performance,2025-12-02,Shared handleMetrics() function eliminates duplication - both endpoints use same handler
100,Simplify dual cache system in HttpClient,P3 - Low,Simplification,Frontend,1,Medium,Closed,"simplification,refactor,performance,cache",/client/src/services/http/httpClient.ts,57,Two parallel caching systems storing same data,2025-12-02,Simplified to single ResponseCache with LRU eviction (C1)
101,Remove unused RequestBatcher,P3 - Low,Cleanup,Frontend,0.5,Low,Closed,"simplification,dead-code,cleanup",/client/src/services/http/httpClient.ts,N/A,RequestBatcher initialized but never used,2025-12-02,RequestBatcher removed from HttpClient - no longer in codebase
102,Optimize health check database query,P3 - Low,Performance,Backend,0.5,Low,Open,"performance,health-check,monitoring",/server/src/routes/metrics.ts,140-153,Health check queries restaurants table - could be optimized,2025-12-02,todos/102-open-p3-health-check-db-latency.md
121,Monitoring abstraction layer,P3 - Low,Architecture,Backend,3-5,Medium,Deferred,"architecture,monitoring,yagni,deferred",/server/src/middleware/security.ts,132-216,Duplicated monitoring code - DEFERRED: No monitoring APIs configured,2025-12-02,todos/121-deferred-p3-monitoring-abstraction.md
123,External API rate limiting,P3 - Low,Performance,Backend,2-3,Medium,Deferred,"performance,rate-limiting,yagni,deferred",/server/src/routes/metrics.ts,34-110,No batching for external API calls - DEFERRED: Speculative optimization,2025-12-02,todos/123-deferred-p3-external-api-rate-limit.md
124,Magic numbers extraction,P3 - Low,Code Quality,Multiple,1-2,Low,Deferred,"code-quality,maintainability,yagni,deferred",Multiple files,Various,Hardcoded values throughout code - DEFERRED: Over-aggressive extraction,2025-12-02,todos/124-deferred-p3-magic-numbers.md
