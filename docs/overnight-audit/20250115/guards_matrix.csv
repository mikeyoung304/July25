endpoint,method,authenticate,validateRestaurantAccess,requireRole,requireScopes,rateLimiter,other_guards,missing_guards
"/api/v1/auth/kiosk",POST,NO,NO,NO,NO,authLimiter,,authenticate
"/api/v1/auth/login",POST,NO,NO,NO,NO,authLimiter,,authenticate
"/api/v1/auth/pin-login",POST,NO,NO,NO,NO,authLimiter,,authenticate
"/api/v1/auth/station-login",POST,YES,NO,NO,requireScopes(STAFF_MANAGE),NO,,validateRestaurantAccess
"/api/v1/auth/logout",POST,YES,NO,NO,NO,NO,,validateRestaurantAccess
"/api/v1/auth/me",GET,YES,NO,NO,NO,NO,,validateRestaurantAccess
"/api/v1/auth/refresh",POST,NO,NO,NO,NO,NO,,authenticate
"/api/v1/auth/set-pin",POST,YES,NO,NO,NO,NO,,validateRestaurantAccess
"/api/v1/auth/revoke-stations",POST,YES,NO,NO,requireScopes(STAFF_MANAGE),NO,,validateRestaurantAccess
"/api/v1/orders",GET,YES,YES,NO,NO,NO,,
"/api/v1/orders",POST,YES,YES,requireRole([owner/manager/server/customer]),NO,NO,,
"/api/v1/orders/voice",POST,YES,YES,requireRole([owner/manager/server/customer]),NO,NO,,
"/api/v1/orders/:id",GET,YES,YES,NO,NO,NO,,
"/api/v1/orders/:id/status",PATCH,YES,YES,NO,NO,NO,,
"/api/v1/orders/:id",DELETE,YES,YES,NO,NO,NO,,requireRole
"/api/v1/webhooks/square",POST,NO,NO,NO,NO,NO,,authenticate
"/api/v1/webhooks/stripe",POST,NO,NO,NO,NO,NO,,authenticate
"/api/v1/payments/intent",POST,YES,YES,NO,NO,NO,paymentGate,
"/api/v1/payments/status/:id",GET,YES,YES,NO,NO,NO,paymentGate,
"/api/v1/payments/create",POST,YES,YES,NO,NO,NO,paymentGate,
"/api/v1/payments/:paymentId",GET,YES,YES,NO,NO,NO,paymentGate,
"/api/v1/payments/:paymentId/refund",POST,YES,YES,NO,NO,NO,paymentGate,
"/api/v1/payments/webhooks/payments",POST,NO,NO,NO,NO,NO,,authenticate
"/api/v1/terminal/devices",GET,YES,YES,NO,NO,NO,,
"/api/v1/terminal/checkout",POST,YES,YES,NO,NO,NO,,
"/api/v1/terminal/checkout/:checkoutId",GET,YES,YES,NO,NO,NO,,
"/api/v1/terminal/checkout/:checkoutId/cancel",POST,YES,YES,NO,NO,NO,,
"/api/v1/terminal/checkout/:checkoutId/complete",POST,YES,YES,NO,NO,NO,,
"/api/v1/health",GET,NO,NO,NO,NO,NO,,
"/api/v1/health/status",GET,NO,NO,NO,NO,NO,,
"/api/v1/health/ready",GET,NO,NO,NO,NO,NO,,
"/api/v1/health/live",GET,NO,NO,NO,NO,NO,,
"/api/v1/health/healthz",GET,NO,NO,NO,NO,NO,,
"/api/v1/menu",GET,optionalAuth,NO,NO,NO,NO,,
"/api/v1/menu/items",GET,optionalAuth,NO,NO,NO,NO,,
"/api/v1/menu/items/:id",GET,optionalAuth,NO,NO,NO,NO,,
"/api/v1/menu/categories",GET,optionalAuth,NO,NO,NO,NO,,
"/api/v1/menu/sync-ai",POST,optionalAuth,NO,NO,NO,NO,,authenticate
"/api/v1/menu/cache/clear",POST,optionalAuth,NO,NO,NO,NO,,authenticate+requireRole
"/api/v1/table-payment/:tableId/check",GET,YES,YES,NO,NO,NO,,
"/api/v1/table-payment/:tableId/present-check",POST,YES,YES,NO,NO,NO,,
"/api/v1/table-payment/:tableId/unlock-check",POST,YES,YES,NO,NO,NO,,
"/api/v1/table-payment/table/:tableId/calculate-tip",POST,YES,YES,NO,NO,NO,,
"/api/v1/table-payment/table/:tableId/process",POST,YES,YES,NO,NO,NO,,
"/api/v1/table-payment/table/:tableId/split",POST,YES,YES,NO,NO,NO,,
"/api/v1/table-payment/split/:sessionId",GET,YES,YES,NO,NO,NO,,
"/api/v1/table-payment/split/:sessionId/pay/:splitId",POST,YES,YES,NO,NO,NO,,
"/api/v1/table-payment/split/:sessionId/allocate",PUT,YES,YES,NO,NO,NO,,
"/api/v1/table-payment/split/:sessionId",DELETE,YES,YES,NO,NO,NO,,
"/api/v1/table-payment/table/:tableId/status",GET,YES,YES,NO,NO,NO,,
"/api/v1/tables",GET,NO,YES,NO,NO,NO,,authenticate
"/api/v1/tables/:id",GET,NO,YES,NO,NO,NO,,authenticate
"/api/v1/tables",POST,NO,YES,NO,NO,NO,,authenticate+requireRole
"/api/v1/tables/batch",PUT,NO,YES,NO,NO,NO,,authenticate+requireRole
"/api/v1/tables/:id",PUT,NO,YES,NO,NO,NO,,authenticate+requireRole
"/api/v1/tables/:id",DELETE,NO,YES,NO,NO,NO,,authenticate+requireRole
"/api/v1/tables/:id/status",PATCH,NO,YES,NO,NO,NO,,authenticate
"/api/v1/ai/menu",POST,YES,NO,requireRole([admin/manager]),NO,aiServiceLimiter,,validateRestaurantAccess
"/api/v1/ai/menu",GET,YES,NO,NO,NO,aiServiceLimiter,,validateRestaurantAccess
"/api/v1/ai/transcribe",POST,NO,NO,NO,NO,transcriptionLimiter,,
"/api/v1/ai/transcribe-with-metadata",POST,NO,NO,NO,NO,transcriptionLimiter,,
"/api/v1/ai/parse-order",POST,YES,NO,NO,NO,aiServiceLimiter,,validateRestaurantAccess
"/api/v1/ai/voice-chat",POST,YES,NO,requireRole([admin/manager/user/kiosk_demo]),NO,aiServiceLimiter,,validateRestaurantAccess
"/api/v1/ai/chat",POST,YES,NO,NO,NO,aiServiceLimiter,,validateRestaurantAccess
"/api/v1/ai/health",GET,NO,NO,NO,NO,NO,,
"/api/v1/ai/test-tts",POST,NO,NO,NO,NO,NO,,authenticate
"/api/v1/ai/test-transcribe",POST,NO,NO,NO,NO,NO,,authenticate
"/api/v1/security/events",GET,YES,NO,requireRole([owner/manager]),NO,NO,,validateRestaurantAccess
"/api/v1/security/stats",GET,YES,NO,requireRole([owner/manager]),NO,NO,,validateRestaurantAccess
"/api/v1/security/test",POST,YES,NO,requireRole([owner]),NO,NO,,validateRestaurantAccess
"/api/v1/security/config",GET,YES,NO,requireRole([owner]),NO,NO,,validateRestaurantAccess
"/api/v1/realtime/session",POST,YES,NO,NO,NO,NO,normalizeVoiceSession,validateRestaurantAccess
"/api/v1/realtime/health",GET,NO,NO,NO,NO,NO,,
"/api/v1/restaurants/:id",GET,optionalAuth,NO,NO,NO,NO,,
WebSocket /ws,WS,YES(verifyWebSocketAuth),YES(via token),NO,NO,NO,,