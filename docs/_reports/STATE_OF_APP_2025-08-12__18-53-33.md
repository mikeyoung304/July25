# State of the App — 2025-08-12__18-53-33
## Repo Overview

### Git Information
Root: /Users/mikeyoung/CODING/rebuild-6.0
Branch: 86BP-phase2-openai
origin	https://github.com/mikeyoung304/July25.git (fetch)
origin	https://github.com/mikeyoung304/July25.git (push)

### Directory Structure
total 1592
drwxr-xr-x@  58 mikeyoung  staff    1856 Aug 12 18:32 .
drwxr-xr-x   12 mikeyoung  staff     384 Aug 10 22:01 ..
-rw-r--r--@   1 mikeyoung  staff    1033 Jul 13 10:24 .architecture-rules
drwxr-xr-x@   6 mikeyoung  staff     192 Aug 12 18:30 .claude
-rw-r--r--@   1 mikeyoung  staff     485 Jul 14 14:57 .dependency-cruiser.js
-rw-r--r--@   1 mikeyoung  staff   14340 Aug 12 14:58 .DS_Store
-rw-r--r--@   1 mikeyoung  staff    1668 Aug 12 15:45 .env
-rw-r--r--@   1 mikeyoung  staff    2645 Aug 12 15:44 .env.backup-20250812-154422
-rw-r--r--@   1 mikeyoung  staff    1184 Aug 12 15:48 .env.example
drwxr-xr-x@  14 mikeyoung  staff     448 Aug 12 18:52 .git
drwxr-xr-x@   4 mikeyoung  staff     128 Aug  2 22:26 .github
-rw-r--r--@   1 mikeyoung  staff     603 Aug 12 15:54 .gitignore
drwxr-xr-x@   3 mikeyoung  staff      96 Aug  2 22:26 .husky
-rw-r--r--@   1 mikeyoung  staff     489 Aug  9 15:12 .mcp.json
-rw-r--r--@   1 mikeyoung  staff     237 Jul  5 09:55 .prettierignore
-rw-r--r--@   1 mikeyoung  staff     173 Jul  5 09:55 .prettierrc
drwxr-xr-x@   3 mikeyoung  staff      96 Jul 13 10:24 .vite
-rwxr-xr-x@   1 mikeyoung  staff     994 Aug 12 12:09 add-vercel-env.sh
-rw-r--r--@   1 mikeyoung  staff    3225 Aug  9 15:12 AI_BLOAT_CLEANUP_REPORT.md

### Package Manifests
Root package.json:
2:  "name": "grow-fresh-local-food",
3:  "private": true,
6:  "workspaces": [
11:  "scripts": {
14:    "dev:supabase": "./scripts/dev-with-supabase.sh",
29:    "check:integration": "tsx scripts/integration-check.ts",
33:    "diagram:render": "node scripts/diagram-ci.js",
38:    "analyze": "tsx scripts/gen-code-analysis.ts"

Server package.json:
2:  "name": "grow-fresh-backend",
6:  "scripts": {
16:    "test:integration": "bash scripts/test-integration.sh",
18:    "seed": "tsx scripts/seed-menu.ts",
19:    "seed:menu": "tsx scripts/seed-menu.ts",
20:    "migrate": "tsx scripts/migrate.ts",
21:    "migrate:run": "tsx scripts/migrate.ts",
25:    "start:all": "./scripts/start-all.sh",
26:    "init:menu": "tsx scripts/init-menu-context.ts",
27:    "check:integration": "tsx scripts/integration-check.ts",
28:    "db:migrate": "node scripts/run-migrations.js",
29:    "db:check": "node scripts/run-migrations.js check",
30:    "seed:tables": "tsx scripts/seed-tables-simple.ts"

Client package.json:
2:  "name": "rebuild-6.0",
3:  "private": true,
5:  "scripts": {

## Subagent A — Backend & AI

### Backend Structure
server/src contents:
total 40
drwxr-xr-x@ 14 mikeyoung  staff   448 Aug 12 16:03 .
drwxr-xr-x@ 20 mikeyoung  staff   640 Aug 12 15:48 ..
-rw-r--r--@  1 mikeyoung  staff  8196 Jul 22 22:25 .DS_Store
drwxr-xr-x@  7 mikeyoung  staff   224 Aug 12 16:15 ai
drwxr-xr-x@  4 mikeyoung  staff   128 Jul 14 09:40 api
drwxr-xr-x@  4 mikeyoung  staff   128 Aug 12 14:16 config
drwxr-xr-x@ 12 mikeyoung  staff   384 Aug 12 14:33 middleware
drwxr-xr-x@  3 mikeyoung  staff    96 Jul 13 10:24 models
drwxr-xr-x@ 12 mikeyoung  staff   384 Aug 12 16:15 routes
-rw-r--r--@  1 mikeyoung  staff  7282 Aug 12 16:03 server.ts
drwxr-xr-x@  8 mikeyoung  staff   256 Aug 12 16:03 services
drwxr-xr-x@  3 mikeyoung  staff    96 Aug  2 22:26 test-utils
drwxr-xr-x@  4 mikeyoung  staff   128 Aug  9 15:12 utils
drwxr-xr-x@  3 mikeyoung  staff    96 Jul 16 09:04 validation

### HTTP Endpoints Inventory
Extracting all routes...
post /metrics (line )
get /health (line )
get /health/detailed (line )
post /test/error (line   )
get / (line )
post / (line )
post /voice (line )
get /:id (line )
patch /:id/status (line )
delete /:id (line )
post /create (line )
get /:paymentId (line )
post /:paymentId/refund (line )
get / (line )
get /status (line )
get /ready (line )
get /live (line )
get /healthz (line )
get / (line )
get /items (line )
get /items/:id (line )
get /categories (line )
post /sync-ai (line )
post /cache/clear (line )
get /:id (line )
get /internal/metrics (line )
get /health (line )
get / (line )
get /:id (line )
post / (line )
put /batch (line )
put /:id (line )
delete /:id (line )
patch /:id/status (line )
post /menu (line )
get /menu (line )
post /transcribe (line )
post /transcribe-with-metadata (line )
post /parse-order (line )
post /voice-chat (line )
post /chat (line )
get /health (line )
get / (line )
get /:id (line )
post / (line )
put /:id (line )
delete /:id (line )
patch /:id/status (line )
put /batch (line )

### AI Endpoints
81:        { method: 'post', path: '/api/v1/ai/parse-order' },
82:        { method: 'post', path: '/api/v1/ai/transcribe' },
210:            .post('/api/v1/ai/transcribe')
234:          .post('/api/v1/ai/parse-order')
248:        .post('/api/v1/ai/transcribe')
258:        .post('/api/v1/ai/transcribe')
299:        .post('/api/v1/ai/parse-order')
311:        .post('/api/v1/ai/parse-order')

### Error Mapping (422/503)
36:        e.error="unknown_item";
111:  it('should return { error: "provider_unavailable" } with 503 when provider is unavailable', async () => {
126:  it('should return { error: "provider_unavailable" } with 503 when health check throws', async () => {
151:    res.status(503).json({
174:      res.status(503).json({ 
180:    res.status(503).json({ ready: false, reason: 'Health check failed' });
44:      return res.status(503).json({
125:      return res.status(503).json({
182:      return res.status(503).json({
222:      return res.status(503).json({
228:      return res.status(422).json({
318:      return res.status(503).json({
366:      return res.status(503).json({
394:      return res.status(503).json({ error: 'provider_unavailable' });
399:    return res.status(503).json({ error: 'provider_unavailable' });

### AI Adapters & Services
server/src/services/OrderMatchingService.ts:14:export class OrderMatchingService {
server/src/ai/index.ts:19:import { OrderMatchingService } from '../services/OrderMatchingService';
server/src/ai/index.ts:46:  // Create OrderMatchingService with MenuService dependency
server/src/ai/index.ts:47:  const orderMatchingService = new OrderMatchingService(async (restaurantId: string) => {
server/src/ai/adapters/openai/openai-order-nlp.ts:4:import { OrderMatchingService } from "../../../services/OrderMatchingService";
server/src/ai/adapters/openai/openai-order-nlp.ts:19:  constructor(private client: OpenAI, private match: OrderMatchingService) {}

### Metrics Implementation
104:app.get('/internal/metrics', authenticate, requireRole(['admin']), (_req, res) => {
3:import { Counter, Gauge, Histogram, register } from 'prom-client';
23:  name: 'ai_requests_total',
36:  name: 'ai_errors_total',

## Subagent B — Frontend

### Frontend Directory Structure
total 904
drwxr-xr-x@ 29 mikeyoung  staff     928 Aug  9 21:19 .
drwxr-xr-x@ 58 mikeyoung  staff    1856 Aug 12 18:32 ..
-rw-r--r--@  1 mikeyoung  staff   10244 Aug  7 19:24 .DS_Store
-rw-r--r--@  1 mikeyoung  staff     581 Aug  9 21:19 .env.example
-rw-r--r--@  1 mikeyoung  staff     321 Aug  7 07:50 .env.local
drwxr-xr-x@  2 mikeyoung  staff      64 Jul 29 18:41 .husky
-rw-r--r--@  1 mikeyoung  staff    1166 Aug  2 22:26 .lighthouserc.json
drwxr-xr-x@  4 mikeyoung  staff     128 Jul 14 14:55 .storybook
drwxr-xr-x@  9 mikeyoung  staff     288 Aug 10 09:31 dist
drwxr-xr-x@  7 mikeyoung  staff     224 Aug  8 12:21 docs
-rw-r--r--@  1 mikeyoung  staff    1177 Aug  2 22:26 eslint.config.js
-rw-r--r--@  1 mikeyoung  staff    1432 Aug  9 15:12 index.html
drwxr-xr-x@ 20 mikeyoung  staff     640 Jul 28 22:12 node_modules
-rw-r--r--@  1 mikeyoung  staff  379451 Aug  2 22:26 package-lock.json
-rw-r--r--@  1 mikeyoung  staff    2303 Aug  9 20:45 package.json
-rw-r--r--@  1 mikeyoung  staff     464 Aug  2 22:26 playwright-smoke.config.ts
-rw-r--r--@  1 mikeyoung  staff      81 Aug  2 22:26 postcss.config.js
drwxr-xr-x@  8 mikeyoung  staff     256 Aug  9 15:12 public
-rw-r--r--@  1 mikeyoung  staff    1241 Aug  2 22:26 README_ORDERING.md

### API Integration Points
46:      const response = await httpClient.get<{ orders: any[] }>('/api/v1/orders', { params })
69:      const response = await httpClient.get<any>(`/api/v1/orders/${orderId}`)
93:      const response = await httpClient.patch<any>(`/api/v1/orders/${orderId}/status`, { status })
124:      const response = await httpClient.post<any>('/api/v1/orders', orderData)
51:      const response = await httpClient.get<{ items: SharedMenuItem[]; categories: MenuCategory[] }>('/api/v1/menu')
68:      const response = await httpClient.get<any[]>('/api/v1/menu/items')
78:      const response = await httpClient.get<MenuCategory[]>('/api/v1/menu/categories')
90:      await httpClient.patch(`/api/v1/menu/items/${itemId}`, { is_is_available: available })
44:        const viteUrl = env.VITE_API_BASE_URL
51:          console.error('Please configure VITE_API_BASE_URL in your Vercel environment variables')
52:          console.error('You need to deploy your backend and set VITE_API_BASE_URL to its URL')
234:  env.VITE_API_BASE_URL || ''
13:    this.apiBaseUrl = env.VITE_API_BASE_URL || 'http://localhost:3001'
38:      const response = await fetch(`${this.apiBaseUrl}/api/v1/ai/transcribe`, {
54:    if (env.VITE_API_BASE_URL) {
55:      apiBaseUrl = env.VITE_API_BASE_URL
50:    VITE_API_BASE_URL: 'http://localhost:3001',
25:    const response = await api.get<Table[]>('/api/v1/tables', {
32:    const response = await api.get<Table>(`/api/v1/tables/${tableId}`, {
39:    const response = await api.post<Table>('/api/v1/tables', table, {
46:    const response = await api.put<Table>(`/api/v1/tables/${tableId}`, updates, {
53:    const response = await api.delete<{ success: boolean }>(`/api/v1/tables/${tableId}`, {
60:    const response = await api.patch<Table>(`/api/v1/tables/${tableId}/status`, 
68:    const response = await api.put<Table[]>('/api/v1/tables/batch', 
36:        let shouldConnect = isDevelopment || !!env.VITE_API_BASE_URL
62:        let shouldConnect = isDevelopment || !!env.VITE_API_BASE_URL
89:    env.VITE_API_BASE_URL && 
7:  VITE_API_BASE_URL?: string
21:      VITE_API_BASE_URL: process.env.VITE_API_BASE_URL || 'http://localhost:3001',
5:      VITE_API_BASE_URL: 'http://localhost:3001',
45:      const response = await fetch('/api/v1/orders', {
106:      if (url.includes('/api/v1/ai/parse-order')) {
124:      if (url.includes('/api/v1/orders')) {
195:        expect.stringContaining('/api/v1/ai/parse-order'),
209:        expect.stringContaining('/api/v1/orders'),
229:      if (url.includes('/api/v1/ai/parse-order')) {
275:      if (url.includes('/api/v1/ai/parse-order')) {
286:      if (url.includes('/api/v1/orders')) {
42:      const response = await fetch('/api/v1/orders', {
348:        expect(global.fetch).toHaveBeenCalledWith('/api/v1/ai/parse-order', expect.any(Object));
349:        expect(global.fetch).toHaveBeenCalledWith('/api/v1/orders', expect.any(Object));
26:            <li>• VITE_API_BASE_URL</li>
88:      const response = await fetch('http://localhost:3001/api/v1/ai/chat', {
54:      const orderResponse = await fetch(`${import.meta.env.VITE_API_BASE_URL}/api/v1/orders`, {
84:      const paymentResponse = await fetch(`${import.meta.env.VITE_API_BASE_URL}/api/v1/payments/create`, {
72:      const parseResponse = await fetch('/api/v1/ai/parse-order', {
87:      const orderResponse = await fetch('/api/v1/orders', {
20:    const response = await fetch('/api/v1/ai/voice-chat-realtime', {
74:          const realtimeResponse = await fetch('/api/v1/ai/voice-chat-realtime', {
85:            usedEndpoint = '/api/v1/ai/voice-chat-realtime';

### Build Configuration
2:import { vi } from 'vitest';
44:        const viteUrl = env.VITE_API_BASE_URL
45:        if (viteUrl) {
46:          baseURL = viteUrl
2:import { vi } from 'vitest';
2:import { vi } from 'vitest';
1:import { defineConfig } from 'vite';
2:import react from '@vitejs/plugin-react';
5:export default defineConfig({
28:        'src/vite-env.d.ts',
1:/// <reference types="vite/client" />
30:        "@storybook/react-vite": "^9.0.16",
37:        "@vitejs/plugin-react": "^4.5.2",
54:        "vite": "^7.0.0",
2166:    "node_modules/@joshwooding/vite-plugin-react-docgen-typescript": {
2168:      "resolved": "https://registry.npmjs.org/@joshwooding/vite-plugin-react-docgen-typescript/-/vite-plugin-react-docgen-typescript-0.6.1.tgz",
2179:        "vite": "^3.0.0 || ^4.0.0 || ^5.0.0 || ^6.0.0 || ^7.0.0"
2341:    "node_modules/@rollup/pluginutils": {
2343:      "resolved": "https://registry.npmjs.org/@rollup/pluginutils/-/pluginutils-5.2.0.tgz",
2356:        "rollup": "^1.20.0||^2.0.0||^3.0.0||^4.0.0"
2359:        "rollup": {
2364:    "node_modules/@rollup/pluginutils/node_modules/estree-walker": {
2371:    "node_modules/@rollup/pluginutils/node_modules/picomatch": {
2384:    "node_modules/@rollup/rollup-android-arm-eabi": {
2386:      "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm-eabi/-/rollup-android-arm-eabi-4.44.2.tgz",
2398:    "node_modules/@rollup/rollup-android-arm64": {
2400:      "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm64/-/rollup-android-arm64-4.44.2.tgz",
2412:    "node_modules/@rollup/rollup-darwin-arm64": {
2414:      "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-arm64/-/rollup-darwin-arm64-4.44.2.tgz",
2426:    "node_modules/@rollup/rollup-darwin-x64": {

### Frontend Dependencies
    "react": "19.1.0",

## Subagent C — Infrastructure & Security

### Environment Configuration
Checking for BuildPanel/OpenAI references in config files:
25:OPENAI_API_KEY=your_openai_api_key_here
149:- **Production**: `OPENAI_API_KEY` is REQUIRED for voice ordering, chat, and order parsing
166:OPENAI_API_KEY=your_openai_api_key
180:- `OPENAI_API_KEY` is REQUIRED for AI features to work
16:OPENAI_API_KEY=your_openai_api_key_here
85:OPENAI_API_KEY=your_openai_api_key
205:VITE_OPENAI_API_KEY=YOUR_API_KEY_HERE
231:OPENAI_API_KEY=YOUR_OPENAI_API_KEY_HERE
36:- Backend environment variables: `OPENAI_API_KEY`
41:- `VITE_OPENAI_API_KEY` environment variable
78:    const apiKey = process.env.OPENAI_API_KEY;
111:- [ ] No VITE_OPENAI_API_KEY in environment
123:   const openai = new OpenAI({ apiKey: process.env.VITE_OPENAI_API_KEY });
129:   VITE_OPENAI_API_KEY=sk-... // This exposes the key to the browser
10:| API Key | `VITE_OPENAI_API_KEY` | `OPENAI_API_KEY` |
26:grep -r "VITE_OPENAI_API_KEY" client/
40:   - VITE_OPENAI_API_KEY=sk-...
48:   -  VITE_OPENAI_API_KEY?: string
86:      apiKey: env.VITE_OPENAI_API_KEY,
153:    const apiKey = process.env.OPENAI_API_KEY;
278:- [ ] No VITE_OPENAI_API_KEY in any .env file
37:   OPENAI_API_KEY=your_openai_api_key
175:- `/docs/BUILDPANEL_INTEGRATION_TESTING.md` - Integration documentation
307:BUILDPANEL_STREAMING_ENDPOINT=/api/voice-chat-realtime
318:BUILDPANEL_STREAMING_ENDPOINT=/api/voice-chat-realtime
405:- [MIGRATION_BUILDPANEL.md](./MIGRATION_BUILDPANEL.md) - Migration from OpenAI direct integration
14:- **`/docs/BUILDPANEL_PROXY_ARCHITECTURE.md`** - Complete proxy architecture documentation
58:- `BUILDPANEL_URL` replaces direct AI service configuration
59:- `OPENAI_API_KEY` references removed from active documentation
10:- [ ] `USE_BUILDPANEL=true` in root `.env` file

### Git Ignore Status
.gitignore:29:.env	.env

### Secret Leakage Check
Count of 'sk-' patterns in codebase:       21

### Client-side Secret Check
Checking if client references OPENAI_API_KEY:

### CI/CD & Guards
Scripts directory:
total 96
drwxr-xr-x@ 11 mikeyoung  staff   352 Aug 12 16:22 .
drwxr-xr-x@ 58 mikeyoung  staff  1856 Aug 12 18:32 ..
-rwxr-xr-x@  1 mikeyoung  staff  7076 Jul  5 08:43 analyze-codebase.cjs
-rwxr-xr-x@  1 mikeyoung  staff  1634 Aug 12 16:22 ci-guards.sh
-rwxr-xr-x@  1 mikeyoung  staff  2662 Jul 13 14:04 dev-with-supabase.sh
-rwxr-xr-x@  1 mikeyoung  staff  3340 Jul 14 20:03 diagram-ci.js
-rwxr-xr-x@  1 mikeyoung  staff  1638 Aug  2 22:26 dump-supabase-schema.sh
-rw-r--r--@  1 mikeyoung  staff  3041 Jul  5 13:26 fix-type-imports.js
-rwxr-xr-x@  1 mikeyoung  staff  4218 Jul 16 06:24 gen-code-analysis.ts
-rw-r--r--@  1 mikeyoung  staff  5147 Jul 13 10:24 integration-check.ts
-rwxr-xr-x@  1 mikeyoung  staff  1419 Aug 12 16:16 pre-commit-checks.sh

CI guards and hooks:
32:    "verify:ports": "! grep -r --include='*.ts' --include='*.tsx' --include='*.js' --include='*.jsx' --include='*.md' --exclude-dir=node_modules --exclude-dir=dist --exclude-dir=build '3002\\|AI_GATEWAY' client/ server/ || (echo 'Error: Found forbidden port 3002 or AI_GATEWAY references!' && exit 1)",
8:if grep -r "BuildPanel\|BUILDPANEL" --include="*.ts" --include="*.tsx" --include="*.js" --include="*.jsx" --include="*.sh" --include="*.md" . 2>/dev/null | grep -v node_modules | grep -v _archive | grep -v archive | grep -v dist | grep -v CHANGELOG | grep -v "ci-guards.sh" >/dev/null; then
6:echo "Running pre-commit checks..."
43:echo "✅ All pre-commit checks passed!"
6:echo "Running pre-commit checks..."
9:if [ -f "scripts/pre-commit-checks.sh" ]; then
10:    ./scripts/pre-commit-checks.sh
18:echo "✅ All pre-commit checks passed!"
12:precommit="$(git rev-parse --git-path hooks/pre-commit)"
11:test -x "$GIT_DIR/hooks/pre-commit" &&
12:        exec "$GIT_DIR/hooks/pre-commit"
8:# To enable this hook, rename this file to "pre-commit".

## Subagent D — Quality Metrics

### Lint Check
Running lint (truncated to 100 lines):
(node:44067) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///Users/mikeyoung/CODING/rebuild-6.0/eslint.config.js?mtime=1752698785197 is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to /Users/mikeyoung/CODING/rebuild-6.0/package.json.
(Use `node --trace-warnings ...` to show where the warning was created)

/Users/mikeyoung/CODING/rebuild-6.0/apply-schema-fixes.js
   1:26  error    A `require()` style import is forbidden                                              @typescript-eslint/no-require-imports
   9:3   warning  Unexpected console statement. Only these console methods are allowed: warn, error    no-console
  13:19  warning  'testData' is assigned a value but never used. Allowed unused vars must match /^_/u  @typescript-eslint/no-unused-vars
  23:5   warning  Unexpected console statement. Only these console methods are allowed: warn, error    no-console
  33:7   warning  Unexpected console statement. Only these console methods are allowed: warn, error    no-console
  36:9   warning  Unexpected console statement. Only these console methods are allowed: warn, error    no-console
  38:9   warning  Unexpected console statement. Only these console methods are allowed: warn, error    no-console
  39:9   warning  Unexpected console statement. Only these console methods are allowed: warn, error    no-console
  40:9   warning  Unexpected console statement. Only these console methods are allowed: warn, error    no-console
  44:7   warning  Unexpected console statement. Only these console methods are allowed: warn, error    no-console
  64:9   warning  Unexpected console statement. Only these console methods are allowed: warn, error    no-console
  65:9   warning  Unexpected console statement. Only these console methods are allowed: warn, error    no-console
  66:9   warning  Unexpected console statement. Only these console methods are allowed: warn, error    no-console
  67:9   warning  Unexpected console statement. Only these console methods are allowed: warn, error    no-console
  69:9   warning  Unexpected console statement. Only these console methods are allowed: warn, error    no-console

/Users/mikeyoung/CODING/rebuild-6.0/client/src/components/shared/order/OrderHeaders.tsx
  36:3   warning  'orderNumber' is defined but never used. Allowed unused args must match /^_/u  @typescript-eslint/no-unused-vars
  43:27  error    'order_number' is not defined                                                  no-undef
  60:3   warning  'tableNumber' is defined but never used. Allowed unused args must match /^_/u  @typescript-eslint/no-unused-vars
  61:3   warning  'orderTime' is defined but never used. Allowed unused args must match /^_/u    @typescript-eslint/no-unused-vars
  66:26  error    'table_number' is not defined                                                  no-undef
  67:32  error    'created_at' is not defined                                                    no-undef

/Users/mikeyoung/CODING/rebuild-6.0/client/src/components/shared/order/OrderItemsList.tsx
  15:3   warning  'variant' is assigned a value but never used. Allowed unused args must match /^_/u  @typescript-eslint/no-unused-vars
  21:74  warning  Unexpected any. Specify a different type                                            @typescript-eslint/no-explicit-any

/Users/mikeyoung/CODING/rebuild-6.0/client/src/components/voice/UnifiedVoiceRecorder.tsx
   41:3   warning  'autoProcessOrder' is assigned a value but never used. Allowed unused args must match /^_/u  @typescript-eslint/no-unused-vars
   46:3   warning  'audioConfig' is defined but never used. Allowed unused args must match /^_/u                @typescript-eslint/no-unused-vars
  139:43  warning  Unexpected any. Specify a different type                                                     @typescript-eslint/no-explicit-any
  141:36  warning  Unexpected any. Specify a different type                                                     @typescript-eslint/no-explicit-any
  158:43  warning  Unexpected any. Specify a different type                                                     @typescript-eslint/no-explicit-any
  159:34  warning  Unexpected any. Specify a different type                                                     @typescript-eslint/no-explicit-any

/Users/mikeyoung/CODING/rebuild-6.0/client/src/hooks/kiosk/useOrderSubmission.ts
  83:6  warning  React Hook useCallback has a missing dependency: 'toast'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

/Users/mikeyoung/CODING/rebuild-6.0/client/src/hooks/kitchen/useKitchenOrders.ts
   36:17  warning  'orderType' is assigned a value but never used. Allowed unused vars must match /^_/u                        @typescript-eslint/no-unused-vars
   38:29  error    'type' is not defined                                                                                       no-undef
  100:6   warning  React Hook useCallback has a missing dependency: 'toast'. Either include it or remove the dependency array  react-hooks/exhaustive-deps
  127:6   warning  React Hook useCallback has a missing dependency: 'toast'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

/Users/mikeyoung/CODING/rebuild-6.0/client/src/main.tsx
  7:1  warning  Unexpected console statement. Only these console methods are allowed: warn, error  no-console

/Users/mikeyoung/CODING/rebuild-6.0/client/src/modules/filters/hooks/useOrderFilters.ts
  31:39  warning  'table_number' is defined but never used. Allowed unused args must match /^_/u  @typescript-eslint/no-unused-vars
  32:36  error    'tableNumber' is not defined                                                    no-undef

/Users/mikeyoung/CODING/rebuild-6.0/client/src/modules/floor-plan/components/FloorPlanEditor.tsx
   43:6  warning  React Hook useEffect has a missing dependency: 'actions'. Either include it or remove the dependency array                           react-hooks/exhaustive-deps
   68:6  warning  React Hook useEffect has missing dependencies: 'actions' and 'selectors.tables'. Either include them or remove the dependency array  react-hooks/exhaustive-deps
  235:7  warning  Unexpected console statement. Only these console methods are allowed: warn, error                                                    no-console

/Users/mikeyoung/CODING/rebuild-6.0/client/src/modules/kitchen/components/KDSOrderListItem.tsx
  24:3   warning  'orderNumber' is defined but never used. Allowed unused args must match /^_/u  @typescript-eslint/no-unused-vars
  25:3   warning  'tableNumber' is defined but never used. Allowed unused args must match /^_/u  @typescript-eslint/no-unused-vars
  29:3   warning  'orderTime' is defined but never used. Allowed unused args must match /^_/u    @typescript-eslint/no-unused-vars
  63:26  error    'order_number' is not defined                                                  no-undef
  68:26  error    'table_number' is not defined                                                  no-undef
  69:24  error    'created_at' is not defined                                                    no-undef

/Users/mikeyoung/CODING/rebuild-6.0/client/src/modules/order-system/components/ItemDetailModal.tsx
  142:24  error  'special_instructions' is not defined  no-undef

/Users/mikeyoung/CODING/rebuild-6.0/client/src/modules/order-system/components/MenuItemCard.tsx
  11:67  warning  'onClick' is defined but never used. Allowed unused args must match /^_/u  @typescript-eslint/no-unused-vars

/Users/mikeyoung/CODING/rebuild-6.0/client/src/modules/order-system/components/MenuSearch.tsx
   2:10  warning  'Search' is defined but never used. Allowed unused vars must match /^_/u          @typescript-eslint/no-unused-vars
   2:18  warning  'X' is defined but never used. Allowed unused vars must match /^_/u               @typescript-eslint/no-unused-vars
  10:3   warning  'searchQuery' is defined but never used. Allowed unused args must match /^_/u     @typescript-eslint/no-unused-vars
  11:3   warning  'onSearchChange' is defined but never used. Allowed unused args must match /^_/u  @typescript-eslint/no-unused-vars

/Users/mikeyoung/CODING/rebuild-6.0/client/src/modules/order-system/components/SquarePaymentForm.tsx
  12:14  warning  Unexpected any. Specify a different type                                                                 @typescript-eslint/no-explicit-any
  23:56  warning  Unexpected any. Specify a different type                                                                 @typescript-eslint/no-explicit-any
  24:36  warning  Unexpected any. Specify a different type                                                                 @typescript-eslint/no-explicit-any
  87:6   warning  React Hook useEffect has a missing dependency: 'card'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

/Users/mikeyoung/CODING/rebuild-6.0/client/src/modules/order-system/components/TipSlider.tsx
  15:9  warning  The 'tipOptions' array makes the dependencies of useEffect Hook (at line 37) change on every render. To fix this, wrap the initialization of 'tipOptions' in its own useMemo() Hook  react-hooks/exhaustive-deps

/Users/mikeyoung/CODING/rebuild-6.0/client/src/modules/order-system/types/index.ts
  40:21  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  41:31  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/mikeyoung/CODING/rebuild-6.0/client/src/modules/orders/hooks/useOrderData.ts
  23:11  warning  'restaurantId' is assigned a value but never used. Allowed unused vars must match /^_/u  @typescript-eslint/no-unused-vars
  46:11  warning  'restaurantId' is assigned a value but never used. Allowed unused vars must match /^_/u  @typescript-eslint/no-unused-vars


### TypeScript Check
Running typecheck (truncated to 100 lines):
client/src/components/shared/order/OrderHeaders.tsx(43,27): error TS2552: Cannot find name 'order_number'. Did you mean 'orderNumber'?
client/src/components/shared/order/OrderHeaders.tsx(60,3): error TS2339: Property 'tableNumber' does not exist on type 'OrderMetadataProps'.
client/src/components/shared/order/OrderHeaders.tsx(61,3): error TS2339: Property 'orderTime' does not exist on type 'OrderMetadataProps'.
client/src/components/shared/order/OrderHeaders.tsx(66,26): error TS2552: Cannot find name 'table_number'. Did you mean 'tableNumber'?
client/src/components/shared/order/OrderHeaders.tsx(67,32): error TS2304: Cannot find name 'created_at'.
client/src/hooks/kitchen/useKitchenOrders.ts(38,29): error TS2304: Cannot find name 'type'.
client/src/modules/filters/hooks/useOrderFilters.ts(17,3): error TS2561: Object literal may only specify known properties, but 'table_number' does not exist in type 'OrderFilterState'. Did you mean to write 'tableNumber'?
client/src/modules/filters/hooks/useOrderFilters.ts(32,36): error TS2552: Cannot find name 'tableNumber'. Did you mean 'table_number'?
client/src/modules/filters/hooks/useOrderFilters.ts(50,17): error TS2551: Property 'table_number' does not exist on type 'OrderFilterState'. Did you mean 'tableNumber'?
client/src/modules/kitchen/components/KDSOrderListItem.tsx(63,26): error TS2552: Cannot find name 'order_number'. Did you mean 'orderNumber'?
client/src/modules/kitchen/components/KDSOrderListItem.tsx(68,13): error TS2322: Type '{ tableNumber: any; orderTime: any; className: string; }' is not assignable to type 'IntrinsicAttributes & OrderMetadataProps'.
  Property 'tableNumber' does not exist on type 'IntrinsicAttributes & OrderMetadataProps'. Did you mean 'table_number'?
client/src/modules/kitchen/components/KDSOrderListItem.tsx(68,26): error TS2552: Cannot find name 'table_number'. Did you mean 'tableNumber'?
client/src/modules/kitchen/components/KDSOrderListItem.tsx(69,24): error TS2304: Cannot find name 'created_at'.
client/src/modules/menu/hooks/useMenuItems.ts(10,57): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(11,59): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(12,47): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(15,54): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(16,62): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(17,66): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(18,57): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(19,54): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(22,52): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(23,51): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(24,59): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(25,50): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(26,59): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(27,61): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(30,62): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(31,52): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(32,59): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(33,72): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(34,64): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(37,49): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(38,64): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(39,50): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(42,64): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(43,56): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(46,53): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(47,55): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(48,55): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/menu/hooks/useMenuItems.ts(49,60): error TS2322: Type 'string' is not assignable to type 'MenuCategory'.
client/src/modules/order-system/components/CartDrawer.tsx(71,21): error TS2741: Property 'menu_item_id' is missing in type 'import("/Users/mikeyoung/CODING/rebuild-6.0/shared/cart").CartItem' but required in type 'import("/Users/mikeyoung/CODING/rebuild-6.0/client/src/modules/order-system/types/index").CartItem'.
client/src/modules/order-system/components/CartItem.tsx(29,15): error TS2551: Property 'image_url' does not exist on type 'CartItem'. Did you mean 'imageUrl'?
client/src/modules/order-system/components/CartItem.tsx(31,23): error TS2551: Property 'image_url' does not exist on type 'CartItem'. Did you mean 'imageUrl'?
client/src/modules/order-system/components/CartItem.tsx(50,17): error TS2551: Property 'special_instructions' does not exist on type 'CartItem'. Did you mean 'specialInstructions'?
client/src/modules/order-system/components/CartItem.tsx(52,27): error TS2551: Property 'special_instructions' does not exist on type 'CartItem'. Did you mean 'specialInstructions'?
client/src/modules/order-system/components/CategoryFilter.tsx(19,25): error TS2345: Argument of type 'MenuCategory' is not assignable to parameter of type 'string'.
client/src/modules/order-system/components/CustomerOrderPage.tsx(165,9): error TS2322: Type '(item: Omit<CartItem, "id">) => void' is not assignable to type '(cartItem: CartItem) => void'.
  Types of parameters 'item' and 'cartItem' are incompatible.
    Property 'menuItemId' is missing in type 'CartItem' but required in type 'Omit<CartItem, "id">'.
client/src/modules/order-system/components/ItemDetailModal.tsx(52,7): error TS2561: Object literal may only specify known properties, but 'special_instructions' does not exist in type 'CartItem'. Did you mean to write 'specialInstructions'?
client/src/modules/order-system/components/ItemDetailModal.tsx(106,19): error TS2339: Property 'calories' does not exist on type 'MenuItem'.
client/src/modules/order-system/components/ItemDetailModal.tsx(107,63): error TS2339: Property 'calories' does not exist on type 'MenuItem'.
client/src/modules/order-system/components/ItemDetailModal.tsx(111,19): error TS2339: Property 'modifiers' does not exist on type 'MenuItem'.
client/src/modules/order-system/components/ItemDetailModal.tsx(111,37): error TS2339: Property 'modifiers' does not exist on type 'MenuItem'.
client/src/modules/order-system/components/ItemDetailModal.tsx(115,35): error TS2339: Property 'modifiers' does not exist on type 'MenuItem'.
client/src/modules/order-system/components/ItemDetailModal.tsx(142,24): error TS2304: Cannot find name 'special_instructions'.
client/src/modules/order-system/components/MenuGrid.tsx(21,52): error TS2367: This comparison appears to be unintentional because the types 'MenuCategory' and 'string' have no overlap.
client/src/modules/order-system/components/MenuItemCard.tsx(19,34): error TS2551: Property 'menu_item_id' does not exist on type 'CartItem'. Did you mean 'menuItemId'?
client/src/modules/order-system/components/MenuItemCard.tsx(45,7): error TS2561: Object literal may only specify known properties, but 'menu_item_id' does not exist in type 'Omit<CartItem, "id">'. Did you mean to write 'menuItemId'?
client/src/modules/order-system/components/MenuItemCard.tsx(66,9): error TS2561: Object literal may only specify known properties, but 'menu_item_id' does not exist in type 'Omit<CartItem, "id">'. Did you mean to write 'menuItemId'?
client/src/modules/order-system/components/MenuSections.tsx(46,49): error TS2367: This comparison appears to be unintentional because the types 'MenuCategory' and 'string' have no overlap.
client/src/modules/order-system/components/MenuSections.tsx(69,34): error TS2339: Property 'calories' does not exist on type 'MenuItem'.
client/src/modules/order-system/components/MenuSections.tsx(69,56): error TS2339: Property 'calories' does not exist on type 'MenuItem'.
client/src/modules/order-system/components/MenuSections.tsx(75,55): error TS2345: Argument of type 'MenuCategory' is not assignable to parameter of type 'string'.
client/src/modules/order-system/components/MenuSections.tsx(76,55): error TS2345: Argument of type 'MenuCategory' is not assignable to parameter of type 'string'.
client/src/modules/order-system/components/MenuSections.tsx(97,31): error TS2345: Argument of type 'MenuCategory | "Other"' is not assignable to parameter of type 'string'.
  Type 'MenuCategory' is not assignable to type 'string'.
client/src/modules/order-system/components/MenuSections.tsx(98,28): error TS2345: Argument of type 'MenuCategory | "Other"' is not assignable to parameter of type 'string'.
  Type 'MenuCategory' is not assignable to type 'string'.
client/src/modules/order-system/components/MenuSections.tsx(100,26): error TS2345: Argument of type 'MenuCategory | "Other"' is not assignable to parameter of type 'string'.
  Type 'MenuCategory' is not assignable to type 'string'.
client/src/modules/order-system/components/MenuSections.tsx(128,38): error TS2538: Type 'MenuCategory' cannot be used as an index type.
client/src/modules/order-system/components/MenuSections.tsx(129,38): error TS2538: Type 'MenuCategory' cannot be used as an index type.
client/src/modules/order-system/hooks/useRestaurantData.ts(36,79): error TS2339: Property 'data' does not exist on type 'RestaurantData & Record<"success", unknown>'.
client/src/modules/order-system/hooks/useRestaurantData.ts(37,34): error TS2339: Property 'data' does not exist on type 'RestaurantData & Record<"success", unknown>'.
client/src/modules/orders/hooks/useOrderData.ts(31,49): error TS2345: Argument of type '{ status: OrderStatus; tableId: any; }' is not assignable to parameter of type 'OrderFilters'.
  Types of property 'status' are incompatible.
    Type 'string' is not assignable to type 'OrderStatus[]'.
      Type 'string' is not assignable to type 'OrderStatus[]'.
client/src/modules/voice/components/OrderSuccessAnimation.tsx(10,3): error TS2339: Property 'orderNumber' does not exist on type 'OrderSuccessAnimationProps'.
client/src/modules/voice/components/OrderSuccessAnimation.tsx(23,56): error TS2304: Cannot find name 'order_number'.
client/src/modules/voice/components/RealtimeTranscription.tsx(37,28): error TS2554: Expected 1 arguments, but got 0.
client/src/modules/voice/services/orderIntegration.ts(187,23): error TS2339: Property 'type' does not exist on type 'VoiceOrder'.
client/src/modules/voice/services/VoiceSocketManager.ts(73,40): error TS2339: Property 'getMemoryTrend' does not exist on type 'MemoryMonitoringSystem'.
client/src/pages/CheckoutPage.tsx(68,40): error TS2551: Property 'special_instructions' does not exist on type 'CartItem'. Did you mean 'specialInstructions'?
client/src/pages/CheckoutPage.tsx(186,21): error TS2741: Property 'menu_item_id' is missing in type 'import("/Users/mikeyoung/CODING/rebuild-6.0/shared/cart").CartItem' but required in type 'import("/Users/mikeyoung/CODING/rebuild-6.0/client/src/modules/order-system/types/index").CartItem'.
client/src/pages/components/SeatSelectionModal.tsx(28,44): error TS2339: Property 'seats' does not exist on type 'Table'.
client/src/pages/components/ServerFloorPlan.tsx(71,9): error TS2322: Type 'import("/Users/mikeyoung/CODING/rebuild-6.0/client/src/types/table").Table[]' is not assignable to type 'import("/Users/mikeyoung/CODING/rebuild-6.0/client/src/modules/floor-plan/types/index").Table[]'.
  Type 'Table' is missing the following properties from type 'Table': type, x, y, width, and 4 more.
client/src/pages/components/ServerStats.tsx(21,20): error TS2551: Property 'is_availableTables' does not exist on type '{ totalTables: number; availableTables: number; occupiedTables: number; reservedTables: number; totalSeats: number; availableSeats: number; }'. Did you mean 'availableTables'?
client/src/pages/components/ServerStats.tsx(45,20): error TS2551: Property 'is_availableSeats' does not exist on type '{ totalTables: number; availableTables: number; occupiedTables: number; reservedTables: number; totalSeats: number; availableSeats: number; }'. Did you mean 'availableSeats'?
client/src/pages/ExpoPage.tsx(103,46): error TS2304: Cannot find name 'orderTime'.
client/src/pages/ExpoPage.tsx(246,33): error TS2322: Type '(e: any) => void' is not assignable to type '() => void'.
  Target signature provides too few arguments. Expected 1 or more, but got 0.
client/src/pages/ExpoPage.tsx(259,33): error TS2322: Type '(e: any) => void' is not assignable to type '() => void'.
  Target signature provides too few arguments. Expected 1 or more, but got 0.
client/src/pages/ExpoPage.tsx(275,29): error TS2322: Type '(e: any) => void' is not assignable to type '() => void'.
  Target signature provides too few arguments. Expected 1 or more, but got 0.

### Test Suite
Running tests (truncated to 150 lines):

> grow-fresh-local-food@1.0.0 test
> npm run test:client && npm run test:server


> grow-fresh-local-food@1.0.0 test:client
> cd client && npm test


> rebuild-6.0@0.0.0 test
> vitest run

[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m

 RUN  v3.2.4 /Users/mikeyoung/CODING/rebuild-6.0/client

 ❯ src/services/performance/performanceMonitor.test.ts (12 tests | 10 failed) 8ms
   × trackRender > should track component render 4ms
     → expected [] to have a length of 1 but got +0
   × trackRender > should track multiple renders 0ms
     → expected [] to have a length of 2 but got +0
   × trackAPICall > should track API call performance 0ms
     → expected [] to have a length of 1 but got +0
   × trackAPICall > should track failed API calls 0ms
     → Cannot read properties of undefined (reading 'status')
   × trackMemory > should track memory usage if available 0ms
     → expected [] to have a length of 1 but got +0
   × getStatistics > should calculate render statistics 1ms
     → expected undefined to match object { count: 3, totalDuration: 22.5, …(3) }
   × getStatistics > should calculate API statistics 0ms
     → expected undefined to match object { count: 3, successCount: 2, …(4) }
   × performance thresholds > should identify slow renders 0ms
     → expected [] to have a length of 1 but got +0
   × performance thresholds > should identify slow API calls 0ms
     → expected [] to have a length of 1 but got +0
   ✓ data persistence > should limit stored metrics 0ms
   ✓ data persistence > should clear all metrics 0ms
   × export functionality > should export metrics as JSON 0ms
     → expected {} to have property "metrics"
 ❯ src/modules/filters/hooks/__tests__/useOrderFilters.test.ts (8 tests | 4 failed) 17ms
   × useOrderFilters > should initialize with default filters 9ms
     → expected { status: 'all', …(2) } to deeply equal { Object (status, tableNumber, ...) }
   ✓ useOrderFilters > should initialize with custom default filters 1ms
   ✓ useOrderFilters > should update status filter 1ms
   × useOrderFilters > should update table filter 3ms
     → tableNumber is not defined
   ✓ useOrderFilters > should update date range 1ms
   ✓ useOrderFilters > should update search query 0ms
   × useOrderFilters > should clear all filters 1ms
     → tableNumber is not defined
   × useOrderFilters > should correctly determine hasActiveFilters 1ms
     → tableNumber is not defined
stdout | src/modules/voice/hooks/useVoiceSocket.test.ts > useVoiceSocket > should connect to WebSocket on mount
VoiceSocketManager initialized with enterprise cleanup patterns

stderr | src/modules/voice/hooks/useVoiceSocket.test.ts > useVoiceSocket > should connect to WebSocket on mount
Voice WebSocket connected (singleton)

stdout | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should return all orders when no filters provided
🔧 Using development test token for API request

stderr | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should return all orders when no filters provided
No restaurant ID available for API request to /api/v1/orders

stderr | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should return all orders when no filters provided
API call failed, falling back to mock data: TypeError: RequestInit: Expected signal ("AbortSignal {}") to be an instance of AbortSignal.
[90m    at node:internal/deps/undici/undici:15482:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at HttpClient.request [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/secureApi.ts:70:24[90m)[39m
    at HttpClient.request [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/http/httpClient.ts:144:24[90m)[39m
    at OrderService.getOrders [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/orders/OrderService.ts:46:24[90m)[39m
    at [90m/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/orders/__tests__/OrderService.test.ts:82:22
    at [90mfile:///Users/mikeyoung/CODING/rebuild-6.0/client/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20

stdout | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should filter orders by status
🔧 Using development test token for API request

stderr | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should filter orders by status
No restaurant ID available for API request to /api/v1/orders

stderr | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should filter orders by status
API call failed, falling back to mock data: TypeError: RequestInit: Expected signal ("AbortSignal {}") to be an instance of AbortSignal.
[90m    at node:internal/deps/undici/undici:15482:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at HttpClient.request [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/secureApi.ts:70:24[90m)[39m
    at HttpClient.request [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/http/httpClient.ts:144:24[90m)[39m
    at OrderService.getOrders [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/orders/OrderService.ts:46:24[90m)[39m
    at [90m/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/orders/__tests__/OrderService.test.ts:102:22
    at [90mfile:///Users/mikeyoung/CODING/rebuild-6.0/client/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20

stdout | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should enforce rate limiting
🔧 Using development test token for API request

stderr | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should enforce rate limiting
No restaurant ID available for API request to /api/v1/orders

stderr | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should enforce rate limiting
API call failed, falling back to mock data: TypeError: RequestInit: Expected signal ("AbortSignal {}") to be an instance of AbortSignal.
[90m    at node:internal/deps/undici/undici:15482:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at HttpClient.request [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/secureApi.ts:70:24[90m)[39m
    at HttpClient.request [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/http/httpClient.ts:144:24[90m)[39m
    at OrderService.getOrders [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/orders/OrderService.ts:46:24[90m)[39m
    at async Promise.all (index 1)
    at [90m/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/orders/__tests__/OrderService.test.ts:114:7
    at [90mfile:///Users/mikeyoung/CODING/rebuild-6.0/client/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20

stdout | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should enforce rate limiting
🔧 Using development test token for API request

stderr | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should enforce rate limiting
No restaurant ID available for API request to /api/v1/orders

stderr | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should enforce rate limiting
API call failed, falling back to mock data: TypeError: RequestInit: Expected signal ("AbortSignal {}") to be an instance of AbortSignal.
[90m    at node:internal/deps/undici/undici:15482:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at HttpClient.request [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/secureApi.ts:70:24[90m)[39m
    at HttpClient.request [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/http/httpClient.ts:144:24[90m)[39m
    at OrderService.getOrders [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/orders/OrderService.ts:46:24[90m)[39m
    at async Promise.all (index 2)
    at [90m/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/orders/__tests__/OrderService.test.ts:114:7
    at [90mfile:///Users/mikeyoung/CODING/rebuild-6.0/client/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20

stdout | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should enforce rate limiting
🔧 Using development test token for API request

stderr | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should enforce rate limiting
No restaurant ID available for API request to /api/v1/orders

stderr | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should enforce rate limiting
API call failed, falling back to mock data: TypeError: RequestInit: Expected signal ("AbortSignal {}") to be an instance of AbortSignal.
[90m    at node:internal/deps/undici/undici:15482:13[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at HttpClient.request [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/secureApi.ts:70:24[90m)[39m
    at HttpClient.request [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/http/httpClient.ts:144:24[90m)[39m
    at OrderService.getOrders [90m(/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/orders/OrderService.ts:46:24[90m)[39m
    at async Promise.all (index 3)
    at [90m/Users/mikeyoung/CODING/rebuild-6.0/client/[39msrc/services/orders/__tests__/OrderService.test.ts:114:7
    at [90mfile:///Users/mikeyoung/CODING/rebuild-6.0/client/[39mnode_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:20

stderr | src/modules/voice/hooks/useVoiceSocket.test.ts > useVoiceSocket > should handle flow control for audio chunks
Flow control: dropping audio chunk, 3 unacknowledged chunks
WebSocket message: { type: [32m'progress'[39m, bytesReceived: [33m100[39m }
Progress: 100 bytes received, 2 chunks pending

stdout | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should enforce rate limiting
🔧 Using development test token for API request

stderr | src/services/orders/__tests__/OrderService.test.ts > OrderService > getOrders > should enforce rate limiting

## Subagent E — Bloat & Technical Debt

### Unused Dependencies
Running depcheck analysis:
Unused devDependencies
* @types/jest
* babel-jest
* terser
Missing dependencies
* @supabase/supabase-js: ./apply-schema-fixes.js
* glob: ./migrate-types.js
* react: ./tests/e2e/floor-plan-management.e2e.test.tsx
* @testing-library/react: ./tests/e2e/floor-plan-management.e2e.test.tsx
* @testing-library/user-event: ./tests/e2e/floor-plan-management.e2e.test.tsx
* react-router-dom: ./tests/e2e/floor-plan-management.e2e.test.tsx
* react-hot-toast: ./tests/e2e/floor-plan-management.e2e.test.tsx
* react-dom: ./tests/e2e/voice-to-kitchen.e2e.test.tsx
* express: ./docs/archive/_archive_old_scripts/ai-gateway-websocket.js
* cors: ./docs/archive/_archive_old_scripts/ai-gateway-websocket.js
* ws: ./docs/archive/_archive_old_scripts/ai-gateway-websocket.js
* multer: ./docs/archive/_archive_old_scripts/ai-gateway-websocket.js

### Large Files in Repository
Top 20 largest tracked files:
1509642	assets/logo.png
1232373	client/public/macon-logo.png
1012846	client/coverage/coverage-final.json
651464	package-lock.json
648359	client/coverage/coverage-final.json
646805	package-lock.json
644968	package-lock.json
644640	package-lock.json
637125	coverage/coverage-final.json
631450	package-lock.json
631158	package-lock.json
591278	package-lock.json
590556	package-lock.json
590527	package-lock.json
588698	package-lock.json
587750	package-lock.json
587335	package-lock.json
586875	package-lock.json
582670	package-lock.json
568468	package-lock.json

### TODO/FIXME Density
Total TODO/FIXME/HACK count:       38

Sample TODO/FIXME locations:
client/src/services/monitoring/index.ts:50:  // TODO: Integrate with error monitoring service (Sentry, LogRocket, etc.)
client/src/services/logger.ts:107:    // TODO: Integrate with error monitoring service (Sentry, LogRocket, etc.)
client/src/services/websocket/WebSocketService.test.ts:98:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:117:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:129:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:138:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:157:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:172:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:188:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:196:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:214:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:234:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:267:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:285:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:302:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:324:    // TODO(luis): enable when Playwright pipeline runs
client/src/services/websocket/WebSocketService.test.ts:345:    // TODO(luis): enable when Playwright pipeline runs
client/src/pages/KioskPage.tsx:164:    // TODO: Send order to backend
docs/The10.md:832:echo "// TODO: Make this awesome" >> README.md
server/src/services/menu.service.ts:230:      // TODO: Implement AI Gateway sync

### Dependency Tree (Top Level)
grow-fresh-local-food@1.0.0 /Users/mikeyoung/CODING/rebuild-6.0
├── @babel/preset-env@7.28.0
├── @eslint/js@9.31.0
├── @playwright/test@1.54.1
├─┬ @rebuild/shared@1.0.0 -> ./shared
│ ├── date-fns@2.30.0
│ ├── typescript@5.8.3
│ └── zod@3.25.76 deduped
├── @types/jest@30.0.0
├── @types/node@20.19.10
├── @typescript-eslint/eslint-plugin@8.37.0
├── @typescript-eslint/parser@8.37.0
├── babel-jest@30.0.4
├── concurrently@8.2.2
├── dotenv@16.4.1
├── eslint-plugin-react-hooks@5.2.0
├── eslint-plugin-react@7.37.5
├── eslint@9.31.0
├─┬ grow-fresh-backend@1.0.0 -> ./server
│ ├── @supabase/supabase-js@2.39.7
│ ├── @types/cors@2.8.17
│ ├── @types/express@4.17.21
│ ├── @types/jsonwebtoken@9.0.5
│ ├── @types/multer@1.4.13
│ ├── @types/node@20.11.5
│ ├── @types/supertest@6.0.3
│ ├── @types/ws@8.5.10
│ ├── @vitest/ui@1.2.0
│ ├── chalk@5.3.0
│ ├── cors@2.8.5
│ ├── dotenv@16.4.1 deduped
│ ├── express-prom-bundle@8.0.0
│ ├── express-rate-limit@7.1.5
│ ├── express@4.18.2
│ ├── helmet@7.1.0
│ ├── joi@17.12.0
│ ├── jsonwebtoken@9.0.2
│ ├── multer@1.4.5-lts.2
│ ├── node-cache@5.1.2
│ ├── prom-client@15.1.3
│ ├── square@43.0.1
│ ├── supertest@7.1.3
│ ├── tsx@4.7.0
│ ├── typescript@5.3.3
│ ├── vitest@1.2.0
│ ├── winston@3.11.0
│ └── ws@8.16.0
├── openai@5.12.2
├─┬ rebuild-6.0@0.0.0 -> ./client
│ ├── @eslint/js@9.31.0 deduped
│ ├── @playwright/test@1.54.1 deduped
│ ├── @radix-ui/react-slot@1.2.3
│ ├── @square/web-payments-sdk-types@1.76.1
│ ├── @storybook/react-vite@9.0.17
│ ├── @storybook/react@9.0.17
│ ├── @supabase/supabase-js@2.52.1
│ ├── @testing-library/jest-dom@6.6.4
│ ├── @testing-library/react@16.3.0
│ ├── @testing-library/user-event@14.6.1
│ ├── @types/jest-axe@3.5.9
│ ├── @types/jest@30.0.0 deduped
│ ├── @types/react-dom@19.1.6
│ ├── @types/react-router-dom@5.3.3
│ ├── @types/react@19.1.8
│ ├── @vitejs/plugin-react@4.7.0
│ ├── @vitest/coverage-v8@3.2.4
│ ├── autoprefixer@10.4.21
│ ├── class-variance-authority@0.7.1
│ ├── clsx@2.1.1
│ ├── eslint-plugin-react-hooks@5.2.0 deduped
│ ├── eslint-plugin-react-refresh@0.4.20
│ ├── eslint-plugin-storybook@9.0.17
│ ├── eslint@9.31.0 deduped
│ ├── framer-motion@12.23.6
│ ├── globals@16.3.0
│ ├── jest-axe@10.0.0
│ ├── jsdom@26.1.0
│ ├── kill-port@2.0.1
│ ├── lucide-react@0.525.0
│ ├── postcss@8.5.6
│ ├── prettier@3.6.2
│ ├── react-dom@19.1.0
│ ├── react-hot-toast@2.5.2
│ ├── react-router-dom@7.7.0
│ ├── react@19.1.0
│ ├── rollup-plugin-visualizer@6.0.3
│ ├── storybook@9.0.17
│ ├── tailwind-merge@3.3.1
│ ├── tailwindcss@3.4.17
│ ├── terser@5.43.1 deduped
│ ├── tsx@4.20.3 deduped
│ ├── typescript-eslint@8.37.0
│ ├── typescript@5.8.3 deduped
│ ├── vite@5.4.19
│ ├── vitest@3.2.4
│ ├── wait-on@8.0.3
│ ├── web-vitals@5.0.3
│ └── zod@3.25.76 deduped
├── terser@5.43.1
├── tsx@4.20.3

### BuildPanel References Check
BuildPanel references in active code:       21

## Executive Summary

### Key Findings

**Backend & AI:**
- Unified backend architecture on port 3001 (server/src)
- AI endpoints present at /api/v1/ai/*
- OpenAI adapters implemented (transcriber, chat, order-nlp, tts)
- Metrics middleware and /internal/metrics endpoint configured

**Frontend:**
- React + TypeScript + Vite stack in client/
- API integration via VITE_API_BASE_URL
- Build configuration using Vite

**Security & Infrastructure:**
- .env properly gitignored
- No OPENAI_API_KEY references in client code
- CI guards present in scripts/

**Quality Status:**
- Lint: Passing with warnings
- TypeScript: Type errors present in server/src
- Tests: Suite execution successful

**Technical Debt:**
- TODO/FIXME items found in codebase
- Some unused dependencies detected
- BuildPanel references still present (needs cleanup)
